[gd_scene load_steps=79 format=3 uid="uid://bfbwkogkdn0jn"]

[ext_resource type="Script" uid="uid://bxk8ym5psvocu" path="res://scripts/player.gd" id="1_8rcgv"]
[ext_resource type="Texture2D" uid="uid://ttbixundd23b" path="res://tiles from another game/knight.png" id="2_i3pqv"]
[ext_resource type="Script" uid="uid://bdx2jk4bug1s8" path="res://state machine/state.gd" id="3_d2wvv"]
[ext_resource type="Texture2D" uid="uid://dm2fokaqpl6gf" path="res://tiles from another game/sprite-sheet.png" id="3_qhqgy"]
[ext_resource type="Texture2D" uid="uid://bnnqe4jw6omua" path="res://tiles from another game/sprite-sheet1.png" id="4_0x2wf"]
[ext_resource type="Texture2D" uid="uid://bpnhqxnfqqp0x" path="res://tiles from another game/sprite-sheet3.png" id="5_c5vhd"]
[ext_resource type="Script" uid="uid://04whikshxwk3" path="res://state machine/idle_state.gd" id="6_smehm"]
[ext_resource type="Script" uid="uid://bwkc7fqyfcys4" path="res://state machine/state_machine.gd" id="6_tuyoq"]
[ext_resource type="Script" uid="uid://boeamdc7o6pif" path="res://state machine/dash_state.gd" id="6_y4r1p"]
[ext_resource type="Script" uid="uid://bqyv6t6oaw0uc" path="res://state machine/jump_state.gd" id="7_ur7pv"]
[ext_resource type="Script" uid="uid://5p8qoh1yetpk" path="res://state machine/run_state.gd" id="8_y4r1p"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jej6c"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f1ej7"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oprun"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8ls1"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qfm1y"]
atlas = ExtResource("2_i3pqv")
region = Rect2(128, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fulsm"]
atlas = ExtResource("2_i3pqv")
region = Rect2(160, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4r5pv"]
atlas = ExtResource("2_i3pqv")
region = Rect2(192, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_60mlk"]
atlas = ExtResource("2_i3pqv")
region = Rect2(224, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i4ail"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a38lo"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ni07"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_l71n6"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ke2ow"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ujl30"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_31cv2"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pf23h"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1bvp3"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lquwl"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7mycd"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_272bh"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vw27"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kek77"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4c57u"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_efxa6"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dg77c"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ycdy4"]
atlas = ExtResource("2_i3pqv")
region = Rect2(128, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_w48qg"]
atlas = ExtResource("2_i3pqv")
region = Rect2(160, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vivmo"]
atlas = ExtResource("2_i3pqv")
region = Rect2(192, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2cqfq"]
atlas = ExtResource("2_i3pqv")
region = Rect2(224, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yaehf"]
atlas = ExtResource("2_i3pqv")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_074og"]
atlas = ExtResource("2_i3pqv")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cegan"]
atlas = ExtResource("2_i3pqv")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_82xsv"]
atlas = ExtResource("2_i3pqv")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_getpj"]
atlas = ExtResource("2_i3pqv")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ryguw"]
atlas = ExtResource("2_i3pqv")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_d13ii"]
atlas = ExtResource("2_i3pqv")
region = Rect2(192, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1u8w0"]
atlas = ExtResource("2_i3pqv")
region = Rect2(224, 96, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_5vw27"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jej6c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f1ej7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oprun")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8ls1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qfm1y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fulsm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4r5pv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_60mlk")
}],
"loop": false,
"name": &"dash",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_i4ail")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a38lo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ni07")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l71n6")
}],
"loop": false,
"name": &"death",
"speed": 10.0
}, {
"frames": [],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ke2ow")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ujl30")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_31cv2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pf23h")
}],
"loop": false,
"name": &"hurt",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1bvp3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lquwl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7mycd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_272bh")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vw27")
}],
"loop": false,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kek77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4c57u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_efxa6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dg77c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ycdy4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w48qg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vivmo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2cqfq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yaehf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_074og")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cegan")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_82xsv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_getpj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ryguw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d13ii")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1u8w0")
}],
"loop": true,
"name": &"run",
"speed": 15.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0x2wf"]
radius = 5.0
height = 16.0

[sub_resource type="AtlasTexture" id="AtlasTexture_0x2wf"]
atlas = ExtResource("3_qhqgy")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_c5vhd"]
atlas = ExtResource("3_qhqgy")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_x5hpj"]
atlas = ExtResource("3_qhqgy")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_b1ybj"]
atlas = ExtResource("3_qhqgy")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_qewd7"]
atlas = ExtResource("3_qhqgy")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_avfs0"]
atlas = ExtResource("3_qhqgy")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_522xl"]
atlas = ExtResource("3_qhqgy")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_tpwto"]
atlas = ExtResource("3_qhqgy")
region = Rect2(128, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_5pe1r"]
atlas = ExtResource("3_qhqgy")
region = Rect2(0, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_5jfe1"]
atlas = ExtResource("3_qhqgy")
region = Rect2(128, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_6m7vr"]
atlas = ExtResource("4_0x2wf")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_8qfar"]
atlas = ExtResource("4_0x2wf")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_egr12"]
atlas = ExtResource("4_0x2wf")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_g3mnq"]
atlas = ExtResource("4_0x2wf")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_u4cuh"]
atlas = ExtResource("4_0x2wf")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_y3ygv"]
atlas = ExtResource("4_0x2wf")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_u0s6k"]
atlas = ExtResource("4_0x2wf")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ics5s"]
atlas = ExtResource("4_0x2wf")
region = Rect2(128, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_dy7ep"]
atlas = ExtResource("5_c5vhd")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_vtdct"]
atlas = ExtResource("5_c5vhd")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_spp3b"]
atlas = ExtResource("5_c5vhd")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_jiw7j"]
atlas = ExtResource("5_c5vhd")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_jrqqm"]
atlas = ExtResource("5_c5vhd")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_q7sea"]
atlas = ExtResource("5_c5vhd")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_bl06r"]
atlas = ExtResource("5_c5vhd")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_0c2u0"]
atlas = ExtResource("5_c5vhd")
region = Rect2(128, 384, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_jej6c"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0x2wf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5vhd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x5hpj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b1ybj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qewd7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_avfs0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_522xl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tpwto")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5pe1r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5jfe1")
}],
"loop": false,
"name": &"slash1",
"speed": 25.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6m7vr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8qfar")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_egr12")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g3mnq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u4cuh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y3ygv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u0s6k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ics5s")
}],
"loop": false,
"name": &"slash2",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dy7ep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vtdct")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_spp3b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jiw7j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jrqqm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q7sea")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bl06r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0c2u0")
}],
"loop": false,
"name": &"slash3",
"speed": 15.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ur7pv"]

[node name="Player" type="CharacterBody2D" groups=["player"]]
script = ExtResource("1_8rcgv")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("6_tuyoq")
initial_state = NodePath("IdleState")
metadata/_custom_type_script = "uid://bwkc7fqyfcys4"

[node name="State" type="Node" parent="StateMachine"]
script = ExtResource("3_d2wvv")
metadata/_custom_type_script = "uid://bdx2jk4bug1s8"

[node name="IdleState" type="Node" parent="StateMachine"]
script = ExtResource("6_smehm")
metadata/_custom_type_script = "uid://04whikshxwk3"

[node name="JumpState" type="Node" parent="StateMachine"]
script = ExtResource("7_ur7pv")
metadata/_custom_type_script = "uid://bqyv6t6oaw0uc"

[node name="RunState" type="Node" parent="StateMachine"]
script = ExtResource("8_y4r1p")
metadata/_custom_type_script = "uid://5p8qoh1yetpk"

[node name="DashState" type="Node" parent="StateMachine"]
script = ExtResource("6_y4r1p")
metadata/_custom_type_script = "uid://boeamdc7o6pif"

[node name="InvincibilityTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -20)
zoom = Vector2(4, 4)
limit_smoothed = true

[node name="body_animated_sprites" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_5vw27")
animation = &"dash"
autoplay = "idle"

[node name="CollisionShape2D_Terrain" type="CollisionShape2D" parent="."]
position = Vector2(0, 3)
shape = SubResource("CapsuleShape2D_0x2wf")

[node name="AttackAnimations" type="AnimatedSprite2D" parent="."]
position = Vector2(18, 0)
scale = Vector2(0.19, 0.2)
sprite_frames = SubResource("SpriteFrames_jej6c")
animation = &"slash1"

[node name="slash_area" type="Area2D" parent="."]
collision_layer = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="slash_area"]
modulate = Color(1, 0.42468, 0.169046, 1)
self_modulate = Color(1, 0.401924, 0.948524, 1)
position = Vector2(18, 0)
shape = SubResource("RectangleShape2D_ur7pv")
debug_color = Color(0.970763, 0, 0.452533, 0.42)

[connection signal="body_entered" from="slash_area" to="." method="_on_slash_area_body_entered"]
